<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Kutubxona</title>
    <link rel='stylesheet' href='https://rawcdn.githack.com/SochavaAG/example-mycode/master/_common/css/reset.css'>
    <link rel="stylesheet" href="css/kutubxona.css">

</head>

<body>
    <!-- partial:index.partial.html -->
    <div class="ag-format-container">
        <h1>Kutubxona</h1>
        <div class="ag-courses_box" id="ag-courses_box" >


        </div>
    </div>
    <!-- partial -->

    <script>
        fetch('https://eduhemisuz.pythonanywhere.com/books/')
            .then( (response) => response.json()
            )
            .then((data) => {
                // Process the returned data and generate HTML
                var container = document.getElementById('ag-courses_box');
                console.log(data);
                var items = data.slice(1, 30)
                console.log(items);
                // Clear the container before adding new data
                

                items.forEach((item) => {
                    var div = document.createElement('div');
                    div.innerHTML = `
                   <div class="ag-courses_item col-4">
                <a href="${item.file}" class="ag-courses-item_link">
                    <div class="ag-courses-item_bg"></div>

                    <div class="ag-courses-item_title">
                       ${item.name}
                    </div>

                    <div class="ag-courses-item_date-box">
                      
                    </div>
                </a>
            </div>
                   `

                   

                    // div.appendChild(idElement);
                    // div.appendChild(nameElement);
                    // div.appendChild(emailElement);

                    container.appendChild(div);
                });
            })
            .catch(function (error) {
                console.error('Error:', error);
            });
    </script>
</body>

</html>